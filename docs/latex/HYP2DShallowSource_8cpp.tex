\doxysubsection{Tests/\+H\+Y\+P\+\_\+2\+D/\+H\+Y\+P2\+D\+Shallow\+Source.cpp File Reference}
\label{HYP2DShallowSource_8cpp}\index{Tests/HYP\_2D/HYP2DShallowSource.cpp@{Tests/HYP\_2D/HYP2DShallowSource.cpp}}
{\ttfamily \#include $<$Two\+D\+\_\+\+H\+Y\+P\+\_\+bundle.\+h$>$}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \textbf{ Cpp\+Noddy\+::\+Example\+::\+Shallow\+\_\+2d\+\_\+source}
\begin{DoxyCompactList}\small\item\em Define the system. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \textbf{ Cpp\+Noddy}
\begin{DoxyCompactList}\small\item\em A collection of OO numerical routines aimed at simple (typical) applied problems in continuum mechanics. \end{DoxyCompactList}\item 
 \textbf{ Cpp\+Noddy\+::\+Example}
\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \{ \textbf{ h}, 
\textbf{ hu}, 
\textbf{ hv}
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
double \textbf{ Cpp\+Noddy\+::\+Example\+::g} (9.\+81)
\begin{DoxyCompactList}\small\item\em gravitational acceleration \end{DoxyCompactList}\item 
double \textbf{ Cpp\+Noddy\+::\+Example\+::A} (0.\+2)
\begin{DoxyCompactList}\small\item\em hump amplitude \end{DoxyCompactList}\item 
double \textbf{ Cpp\+Noddy\+::\+Example\+::z} (const double \&x, const double \&y)
\begin{DoxyCompactList}\small\item\em Topography shape. \end{DoxyCompactList}\item 
void \textbf{ Cpp\+Noddy\+::\+Example\+::\+Q\+\_\+init} (const double \&x, const double \&y, \textbf{ Dense\+Vector}$<$ double $>$ \&q)
\begin{DoxyCompactList}\small\item\em Set the initial state of the system. \end{DoxyCompactList}\item 
int \textbf{ main} ()
\end{DoxyCompactItemize}


\doxysubsubsection{Detailed Description}
Two dimensional shallow water equations over topography. In this case, although the computation is 2D the topography is independent of the transverse coordinate and the result is checked against the 1D code. 

\doxysubsubsection{Enumeration Type Documentation}
\mbox{\label{HYP2DShallowSource_8cpp_a39fca1837c5ce7715cbf571669660c13}} 
\doxyparagraph{anonymous enum}
{\footnotesize\ttfamily anonymous enum}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{h@{h}!HYP2DShallowSource.cpp@{HYP2DShallowSource.cpp}}\index{HYP2DShallowSource.cpp@{HYP2DShallowSource.cpp}!h@{h}}}\mbox{\label{HYP2DShallowSource_8cpp_a39fca1837c5ce7715cbf571669660c13a83684c9789c44b5b6edca6ae4ae1eeb5}} 
h&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{hu@{hu}!HYP2DShallowSource.cpp@{HYP2DShallowSource.cpp}}\index{HYP2DShallowSource.cpp@{HYP2DShallowSource.cpp}!hu@{hu}}}\mbox{\label{HYP2DShallowSource_8cpp_a39fca1837c5ce7715cbf571669660c13afc3731650aa9889db2b97824edc60cea}} 
hu&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{hv@{hv}!HYP2DShallowSource.cpp@{HYP2DShallowSource.cpp}}\index{HYP2DShallowSource.cpp@{HYP2DShallowSource.cpp}!hv@{hv}}}\mbox{\label{HYP2DShallowSource_8cpp_a39fca1837c5ce7715cbf571669660c13adea9277815804663529868c8093e37e6}} 
hv&\\
\hline

\end{DoxyEnumFields}


Definition at line 11 of file H\+Y\+P2\+D\+Shallow\+Source.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{11 \{ h, hu, hv \};}

\end{DoxyCode}


\doxysubsubsection{Function Documentation}
\mbox{\label{HYP2DShallowSource_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}} 
\index{HYP2DShallowSource.cpp@{HYP2DShallowSource.cpp}!main@{main}}
\index{main@{main}!HYP2DShallowSource.cpp@{HYP2DShallowSource.cpp}}
\doxyparagraph{main()}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 135 of file H\+Y\+P2\+D\+Shallow\+Source.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{136 \{}
\DoxyCodeLine{137 }
\DoxyCodeLine{138   cout << \textcolor{stringliteral}{"\(\backslash\)n"};}
\DoxyCodeLine{139   cout << \textcolor{stringliteral}{"=== Hyperbolic: 2D shallow water over topography ====\(\backslash\)n"};}
\DoxyCodeLine{140   cout << \textcolor{stringliteral}{"\(\backslash\)n"};}
\DoxyCodeLine{141 }
\DoxyCodeLine{142   std::string dirname(\textcolor{stringliteral}{"./DATA"});}
\DoxyCodeLine{143   mkdir( dirname.c\_str(), S\_IRWXU );}
\DoxyCodeLine{144   std::string filename\_stub( \textcolor{stringliteral}{"./DATA/HYP\_2D\_shallow\_source"} );}
\DoxyCodeLine{145   \textcolor{comment}{// define the domain/mesh}}
\DoxyCodeLine{146   \textcolor{keyword}{const} \textcolor{keywordtype}{double} west =  0;}
\DoxyCodeLine{147   \textcolor{keyword}{const} \textcolor{keywordtype}{double} east = 25;}
\DoxyCodeLine{148   \textcolor{keyword}{const} \textcolor{keywordtype}{double} south = -\/3;}
\DoxyCodeLine{149   \textcolor{keyword}{const} \textcolor{keywordtype}{double} north = 3;}
\DoxyCodeLine{150   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} Nx = 401;}
\DoxyCodeLine{151   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} Ny = 3;}
\DoxyCodeLine{152   DenseVector<double> faces\_x = Utility::power\_node\_vector( west, east, Nx, 1.0 );}
\DoxyCodeLine{153   DenseVector<double> faces\_y = Utility::power\_node\_vector( south, north, Ny, 1.0 );}
\DoxyCodeLine{154 }
\DoxyCodeLine{155   Example::Shallow\_2d\_source conservative\_problem;}
\DoxyCodeLine{156   TwoD\_TVDLF\_Mesh Shallow\_2d\_mesh( faces\_x, faces\_y, \&conservative\_problem, Example::Q\_init );}
\DoxyCodeLine{157   Shallow\_2d\_mesh.set\_limiter( 1 );}
\DoxyCodeLine{158 }
\DoxyCodeLine{159   \textcolor{keywordtype}{int} file\_counter( 0 );}
\DoxyCodeLine{160   \textcolor{keywordtype}{int} loop\_counter( 0 );}
\DoxyCodeLine{161   \textcolor{keyword}{const} \textcolor{keywordtype}{double} t\_end = 5;}
\DoxyCodeLine{162   \textcolor{keywordflow}{do}}
\DoxyCodeLine{163   \{}
\DoxyCodeLine{164     \textcolor{keywordflow}{if} ( loop\_counter \% 10 == 0 )}
\DoxyCodeLine{165     \{}
\DoxyCodeLine{166       Shallow\_2d\_mesh.dump\_gnu( filename\_stub + Utility::stringify( file\_counter ) + \textcolor{stringliteral}{".dat"} );}
\DoxyCodeLine{167       file\_counter += 1;}
\DoxyCodeLine{168     \}}
\DoxyCodeLine{169     Shallow\_2d\_mesh.update( 0.49, std::abs( Shallow\_2d\_mesh.get\_time() -\/ t\_end ) );}
\DoxyCodeLine{170     loop\_counter += 1;}
\DoxyCodeLine{171 }
\DoxyCodeLine{172   \}}
\DoxyCodeLine{173   \textcolor{keywordflow}{while} ( Shallow\_2d\_mesh.get\_time() < t\_end );}
\DoxyCodeLine{174 }
\DoxyCodeLine{175   DenseVector<double> x( 2, 0.0 );}
\DoxyCodeLine{176   x[ 0 ] = 10;}
\DoxyCodeLine{177   x[ 1 ] = 0;}
\DoxyCodeLine{178   \textcolor{keywordtype}{double} h\_10( Shallow\_2d\_mesh.get\_point\_values( x )[0] );}
\DoxyCodeLine{179   \textcolor{comment}{// compare this value to the 1D code's result for this resolution and CFL}}
\DoxyCodeLine{180   \textcolor{keywordtype}{double} E( abs( h\_10 -\/ 0.116773 ) );}
\DoxyCodeLine{181   \textcolor{keywordflow}{if} ( E > 1.e-\/5 )}
\DoxyCodeLine{182   \{}
\DoxyCodeLine{183     cout << \textcolor{stringliteral}{"\(\backslash\)033[1;31;48m  * FAILED \(\backslash\)033[0m\(\backslash\)n"};}
\DoxyCodeLine{184     cout << E << \textcolor{stringliteral}{" \(\backslash\)n"};}
\DoxyCodeLine{185     \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{186   \}}
\DoxyCodeLine{187   \textcolor{keywordflow}{else}}
\DoxyCodeLine{188   \{}
\DoxyCodeLine{189     cout << \textcolor{stringliteral}{"\(\backslash\)033[1;32;48m  * PASSED \(\backslash\)033[0m\(\backslash\)n"};}
\DoxyCodeLine{190     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{191   \}}
\DoxyCodeLine{192 \}}

\end{DoxyCode}


References Cpp\+Noddy\+::\+Two\+D\+\_\+\+T\+V\+D\+L\+F\+\_\+\+Mesh\+::dump\+\_\+gnu(), E, Cpp\+Noddy\+::\+Two\+D\+\_\+\+T\+V\+D\+L\+F\+\_\+\+Mesh\+::get\+\_\+point\+\_\+values(), Cpp\+Noddy\+::\+Two\+D\+\_\+\+T\+V\+D\+L\+F\+\_\+\+Mesh\+::get\+\_\+time(), Cpp\+Noddy\+::\+Utility\+::power\+\_\+node\+\_\+vector(), Cpp\+Noddy\+::\+Example\+::\+Q\+\_\+init(), Cpp\+Noddy\+::\+Two\+D\+\_\+\+T\+V\+D\+L\+F\+\_\+\+Mesh\+::set\+\_\+limiter(), Cpp\+Noddy\+::\+Utility\+::stringify(), and Cpp\+Noddy\+::\+Two\+D\+\_\+\+T\+V\+D\+L\+F\+\_\+\+Mesh\+::update().

