\doxysubsection{Cpp\+Noddy\+::Timer Class Reference}
\label{classCppNoddy_1_1Timer}\index{CppNoddy::Timer@{CppNoddy::Timer}}


A simple C\+P\+U-\/clock-\/tick timer for timing metods.  




{\ttfamily \#include $<$Timer.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ Timer} ()
\item 
\textbf{ Timer} (std\+::string name)
\item 
double \textbf{ get\+\_\+wall\+\_\+time} ()
\item 
void \textbf{ start} ()
\begin{DoxyCompactList}\small\item\em Start the timer \& reset stored time to zero. \end{DoxyCompactList}\item 
void \textbf{ stop} ()
\begin{DoxyCompactList}\small\item\em Stop the clock \& add the current time interval to the previously stored values ready for printing. \end{DoxyCompactList}\item 
void \textbf{ reset} ()
\begin{DoxyCompactList}\small\item\em Pause the clock \& add the time interval to the stored cumulative time. \end{DoxyCompactList}\item 
void \textbf{ print} () const
\begin{DoxyCompactList}\small\item\em Write a string to cout stating the time taken. \end{DoxyCompactList}\item 
int \& \textbf{ counter} ()
\begin{DoxyCompactList}\small\item\em Increment an internal discrete counter. \end{DoxyCompactList}\item 
double \textbf{ time\+\_\+per\+\_\+count} () const
\item 
double \textbf{ get\+\_\+time} () const
\begin{DoxyCompactList}\small\item\em Return the time. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsubsection{Detailed Description}
A simple C\+P\+U-\/clock-\/tick timer for timing metods. 

Definition at line 19 of file Timer.\+h.



\doxysubsubsection{Constructor \& Destructor Documentation}
\mbox{\label{classCppNoddy_1_1Timer_af1c22d1ecff1fb7bf943191897d419bf}} 
\index{CppNoddy::Timer@{CppNoddy::Timer}!Timer@{Timer}}
\index{Timer@{Timer}!CppNoddy::Timer@{CppNoddy::Timer}}
\doxyparagraph{Timer()\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily Cpp\+Noddy\+::\+Timer\+::\+Timer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 23 of file Timer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{23             : STOPPED(\textcolor{keyword}{true}), COUNTER(0),}
\DoxyCodeLine{24           T\_START(clock()), DELTA\_T\_STORE(0), m\_deltaWall(0.0) \{}
\DoxyCodeLine{25       HEADER = \textcolor{stringliteral}{""};}
\DoxyCodeLine{26       m\_wallStart = get\_wall\_time();}
\DoxyCodeLine{27     \}}

\end{DoxyCode}


References get\+\_\+wall\+\_\+time().

\mbox{\label{classCppNoddy_1_1Timer_af9dd42b1e54196f967a2a9c86e577fe5}} 
\index{CppNoddy::Timer@{CppNoddy::Timer}!Timer@{Timer}}
\index{Timer@{Timer}!CppNoddy::Timer@{CppNoddy::Timer}}
\doxyparagraph{Timer()\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily Cpp\+Noddy\+::\+Timer\+::\+Timer (\begin{DoxyParamCaption}\item[{std\+::string}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 29 of file Timer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{29                           : STOPPED(\textcolor{keyword}{true}), COUNTER(0),}
\DoxyCodeLine{30                   T\_START(clock()), DELTA\_T\_STORE(0), m\_deltaWall(0.0) \{}
\DoxyCodeLine{31       HEADER = name;}
\DoxyCodeLine{32       m\_wallStart = get\_wall\_time();}
\DoxyCodeLine{33     \}}

\end{DoxyCode}


References get\+\_\+wall\+\_\+time().



\doxysubsubsection{Member Function Documentation}
\mbox{\label{classCppNoddy_1_1Timer_ac568545bbe72e94dc0f39a4b97d71f26}} 
\index{CppNoddy::Timer@{CppNoddy::Timer}!counter@{counter}}
\index{counter@{counter}!CppNoddy::Timer@{CppNoddy::Timer}}
\doxyparagraph{counter()}
{\footnotesize\ttfamily int \& Cpp\+Noddy\+::\+Timer\+::counter (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Increment an internal discrete counter. 



Definition at line 44 of file Timer.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{44                       \{}
\DoxyCodeLine{45     \textcolor{keywordflow}{return} COUNTER;}
\DoxyCodeLine{46   \}}

\end{DoxyCode}


Referenced by main().

\mbox{\label{classCppNoddy_1_1Timer_a1e44088f81db10a51983050a6a118e25}} 
\index{CppNoddy::Timer@{CppNoddy::Timer}!get\_time@{get\_time}}
\index{get\_time@{get\_time}!CppNoddy::Timer@{CppNoddy::Timer}}
\doxyparagraph{get\_time()}
{\footnotesize\ttfamily double Cpp\+Noddy\+::\+Timer\+::get\+\_\+time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Return the time. 

\begin{DoxyReturn}{Returns}
The time (in ms). 
\end{DoxyReturn}


Definition at line 34 of file Timer.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{34                                \{}
\DoxyCodeLine{35     \textcolor{keywordflow}{if}(STOPPED) \{}
\DoxyCodeLine{36       \textcolor{comment}{// if stopped or paused return stored intervals}}
\DoxyCodeLine{37       \textcolor{keywordflow}{return} 1.e3 * double(DELTA\_T\_STORE) / CLOCKS\_PER\_SEC;}
\DoxyCodeLine{38     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{39       \textcolor{comment}{// running clock}}
\DoxyCodeLine{40       \textcolor{keywordflow}{return} 1.e3 * (double(DELTA\_T\_STORE) + double(clock()) -\/ double(T\_START)) / CLOCKS\_PER\_SEC;}
\DoxyCodeLine{41     \}}
\DoxyCodeLine{42   \}}

\end{DoxyCode}


Referenced by main().

\mbox{\label{classCppNoddy_1_1Timer_a203bb4e03e5a05742496d4f7dd70bce3}} 
\index{CppNoddy::Timer@{CppNoddy::Timer}!get\_wall\_time@{get\_wall\_time}}
\index{get\_wall\_time@{get\_wall\_time}!CppNoddy::Timer@{CppNoddy::Timer}}
\doxyparagraph{get\_wall\_time()}
{\footnotesize\ttfamily double Cpp\+Noddy\+::\+Timer\+::get\+\_\+wall\+\_\+time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 36 of file Timer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{36                           \{}
\DoxyCodeLine{37       \textcolor{keyword}{struct }timeval time;}
\DoxyCodeLine{38       \textcolor{keywordflow}{if} (gettimeofday(\&time,NULL))\{}
\DoxyCodeLine{39         \textcolor{comment}{//  Handle error}}
\DoxyCodeLine{40         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{41       \}}
\DoxyCodeLine{42       \textcolor{keywordflow}{return} (\textcolor{keywordtype}{double})time.tv\_sec + (double)time.tv\_usec * .000001;      }
\DoxyCodeLine{43     \}}

\end{DoxyCode}


Referenced by stop(), and Timer().

\mbox{\label{classCppNoddy_1_1Timer_ad25607f8560bec2d568416319f5d7161}} 
\index{CppNoddy::Timer@{CppNoddy::Timer}!print@{print}}
\index{print@{print}!CppNoddy::Timer@{CppNoddy::Timer}}
\doxyparagraph{print()}
{\footnotesize\ttfamily void Cpp\+Noddy\+::\+Timer\+::print (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Write a string to cout stating the time taken. 



Definition at line 59 of file Timer.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{59                           \{}
\DoxyCodeLine{60     std::cout.precision(4);}
\DoxyCodeLine{61     std::cout << \textcolor{stringliteral}{"  "} << HEADER << \textcolor{stringliteral}{"\(\backslash\)n"};}
\DoxyCodeLine{62     \textcolor{keyword}{const} \textcolor{keywordtype}{double} elapsed\_time\_in\_ms(1.e3 * \textcolor{keywordtype}{double}(DELTA\_T\_STORE) / CLOCKS\_PER\_SEC);}
\DoxyCodeLine{63     \textcolor{keywordflow}{if}(elapsed\_time\_in\_ms > 1000) \{}
\DoxyCodeLine{64       std::cout << \textcolor{stringliteral}{"  TOTAL CPU time taken  = "} << elapsed\_time\_in\_ms / 1000. << \textcolor{stringliteral}{" s\(\backslash\)n"};}
\DoxyCodeLine{65       std::cout << \textcolor{stringliteral}{"  TOTAL wall time taken = "} << m\_deltaWall << \textcolor{stringliteral}{" s\(\backslash\)n"};}
\DoxyCodeLine{66     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{67       std::cout << \textcolor{stringliteral}{"  TOTAL CPU time taken = "} << elapsed\_time\_in\_ms << \textcolor{stringliteral}{" ms\(\backslash\)n"};}
\DoxyCodeLine{68     \}}
\DoxyCodeLine{69     \textcolor{keywordflow}{if}(COUNTER != 0) \{}
\DoxyCodeLine{70       std::cout << \textcolor{stringliteral}{"  Number of loops during this time = "} << COUNTER << \textcolor{stringliteral}{"\(\backslash\)n"};}
\DoxyCodeLine{71       std::cout << \textcolor{stringliteral}{"  Throughput = "} << 1.e3 * COUNTER / elapsed\_time\_in\_ms << \textcolor{stringliteral}{" runs/s \(\backslash\)n"};}
\DoxyCodeLine{72     \}}
\DoxyCodeLine{73   \}}

\end{DoxyCode}


Referenced by main().

\mbox{\label{classCppNoddy_1_1Timer_afc3c76420b149721a6ac3b3f0e6ab56d}} 
\index{CppNoddy::Timer@{CppNoddy::Timer}!reset@{reset}}
\index{reset@{reset}!CppNoddy::Timer@{CppNoddy::Timer}}
\doxyparagraph{reset()}
{\footnotesize\ttfamily void Cpp\+Noddy\+::\+Timer\+::reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Pause the clock \& add the time interval to the stored cumulative time. 



Definition at line 26 of file Timer.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{26                     \{}
\DoxyCodeLine{27     stop();}
\DoxyCodeLine{28     COUNTER = 0;}
\DoxyCodeLine{29     STOPPED = \textcolor{keyword}{true};}
\DoxyCodeLine{30     DELTA\_T\_STORE = 0;}
\DoxyCodeLine{31     m\_deltaWall = 0.0;}
\DoxyCodeLine{32   \}}

\end{DoxyCode}


References stop().



Referenced by main().

\mbox{\label{classCppNoddy_1_1Timer_a2de4fee39e60c29cc6961eb37d14f852}} 
\index{CppNoddy::Timer@{CppNoddy::Timer}!start@{start}}
\index{start@{start}!CppNoddy::Timer@{CppNoddy::Timer}}
\doxyparagraph{start()}
{\footnotesize\ttfamily void Cpp\+Noddy\+::\+Timer\+::start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Start the timer \& reset stored time to zero. 



Definition at line 12 of file Timer.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{12                     \{}
\DoxyCodeLine{13     T\_START = clock();}
\DoxyCodeLine{14     STOPPED = \textcolor{keyword}{false};}
\DoxyCodeLine{15   \}}

\end{DoxyCode}


Referenced by main().

\mbox{\label{classCppNoddy_1_1Timer_af60aadb642d1850df3bad1bb50ed9561}} 
\index{CppNoddy::Timer@{CppNoddy::Timer}!stop@{stop}}
\index{stop@{stop}!CppNoddy::Timer@{CppNoddy::Timer}}
\doxyparagraph{stop()}
{\footnotesize\ttfamily void Cpp\+Noddy\+::\+Timer\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Stop the clock \& add the current time interval to the previously stored values ready for printing. 



Definition at line 17 of file Timer.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{17                    \{}
\DoxyCodeLine{18     \textcolor{keywordflow}{if}(!STOPPED) \{}
\DoxyCodeLine{19       \textcolor{comment}{// we add current time interval to that stored}}
\DoxyCodeLine{20       DELTA\_T\_STORE += clock() -\/ T\_START;}
\DoxyCodeLine{21       STOPPED = \textcolor{keyword}{true};}
\DoxyCodeLine{22       m\_deltaWall = get\_wall\_time() -\/ m\_wallStart;}
\DoxyCodeLine{23     \}}
\DoxyCodeLine{24   \}}

\end{DoxyCode}


References get\+\_\+wall\+\_\+time().



Referenced by main(), and reset().

\mbox{\label{classCppNoddy_1_1Timer_a6434e3f15657c1cf471fe6753e5fece4}} 
\index{CppNoddy::Timer@{CppNoddy::Timer}!time\_per\_count@{time\_per\_count}}
\index{time\_per\_count@{time\_per\_count}!CppNoddy::Timer@{CppNoddy::Timer}}
\doxyparagraph{time\_per\_count()}
{\footnotesize\ttfamily double Cpp\+Noddy\+::\+Timer\+::time\+\_\+per\+\_\+count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

\begin{DoxyReturn}{Returns}
The average time taken per increment of the internal discrete counter. 
\end{DoxyReturn}


Definition at line 48 of file Timer.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{48                                      \{}
\DoxyCodeLine{49     \textcolor{keywordflow}{if}(STOPPED) \{}
\DoxyCodeLine{50       \textcolor{keywordflow}{return} 1.e3 * double(DELTA\_T\_STORE) / CLOCKS\_PER\_SEC / COUNTER;}
\DoxyCodeLine{51     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{52       std::string problem = HEADER;}
\DoxyCodeLine{53       problem += \textcolor{stringliteral}{"\(\backslash\)n The Timer object can only return time\_per\_count after being stopped.\(\backslash\)n"};}
\DoxyCodeLine{54       \textcolor{keywordflow}{throw} ExceptionRuntime(problem);}
\DoxyCodeLine{55     \}}
\DoxyCodeLine{56     \textcolor{keywordflow}{return} 0; \textcolor{comment}{// dummy}}
\DoxyCodeLine{57   \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\textbf{ Timer.\+h}\item 
src/\textbf{ Timer.\+cpp}\end{DoxyCompactItemize}
