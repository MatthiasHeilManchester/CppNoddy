\doxysubsection{Tests/\+Arclength/\+Arc\+Circle\+Vector.cpp File Reference}
\label{ArcCircleVector_8cpp}\index{Tests/Arclength/ArcCircleVector.cpp@{Tests/Arclength/ArcCircleVector.cpp}}
{\ttfamily \#include $<$cassert$>$}\newline
{\ttfamily \#include $<$Newton\+\_\+bundle.\+h$>$}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \textbf{ Cpp\+Noddy\+::\+Example\+::\+Arc\+\_\+problem}
\begin{DoxyCompactList}\small\item\em Define the residual for arc-\/length continuation of a circle. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \textbf{ Cpp\+Noddy}
\begin{DoxyCompactList}\small\item\em A collection of OO numerical routines aimed at simple (typical) applied problems in continuum mechanics. \end{DoxyCompactList}\item 
 \textbf{ Cpp\+Noddy\+::\+Example}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \textbf{ main} ()
\end{DoxyCompactItemize}


\doxysubsubsection{Detailed Description}
A simple arc-\/length continuation solving the vector equation \[ x^2 + p^2 = 1\,, y = \sin(x) \] where $p$ is a parameter. The solution is obtained by Newton iteration combined with arclength continuation with the parameter $p$. 

\doxysubsubsection{Function Documentation}
\mbox{\label{ArcCircleVector_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}} 
\index{ArcCircleVector.cpp@{ArcCircleVector.cpp}!main@{main}}
\index{main@{main}!ArcCircleVector.cpp@{ArcCircleVector.cpp}}
\doxyparagraph{main()}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 37 of file Arc\+Circle\+Vector.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{38 \{}
\DoxyCodeLine{39   cout << \textcolor{stringliteral}{"\(\backslash\)n"};}
\DoxyCodeLine{40   cout << \textcolor{stringliteral}{"=== ARC: cont of x\string^2 + p\string^2 = 1.0, y = sin(x) ========\(\backslash\)n"};}
\DoxyCodeLine{41   cout << \textcolor{stringliteral}{"\(\backslash\)n"};}
\DoxyCodeLine{42 }
\DoxyCodeLine{43   \textcolor{comment}{// initial guess}}
\DoxyCodeLine{44   DenseVector<double> x( 2, 0.0 );}
\DoxyCodeLine{45   x[ 0 ] = 0.4;}
\DoxyCodeLine{46   x[ 1 ] = 0.4;}
\DoxyCodeLine{47 }
\DoxyCodeLine{48   \textcolor{comment}{// Instantiate the problem}}
\DoxyCodeLine{49   Example::Arc\_problem residual;}
\DoxyCodeLine{50   \textcolor{comment}{// initialise the parameter}}
\DoxyCodeLine{51   residual.p = 0.9;}
\DoxyCodeLine{52   \textcolor{comment}{// A Newton object}}
\DoxyCodeLine{53   Newton<double> newton( \&residual );}
\DoxyCodeLine{54   newton.set\_monitor\_det( \textcolor{keyword}{true} );}
\DoxyCodeLine{55   newton.init\_arc( x, \&residual.p, 0.05, 0.1 );}
\DoxyCodeLine{56 }
\DoxyCodeLine{57   \textcolor{keywordtype}{double} tol( 1.e-\/7 );}
\DoxyCodeLine{58   \textcolor{keywordtype}{bool} failed = \textcolor{keyword}{false};}
\DoxyCodeLine{59   \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} i = 0; i < 400; ++i )}
\DoxyCodeLine{60   \{}
\DoxyCodeLine{61     \textcolor{keywordflow}{try}}
\DoxyCodeLine{62     \{}
\DoxyCodeLine{63       \textcolor{keywordflow}{try}}
\DoxyCodeLine{64       \{}
\DoxyCodeLine{65         newton.arclength\_solve( x );}
\DoxyCodeLine{66       \}}
\DoxyCodeLine{67       \textcolor{keywordflow}{catch} ( \textcolor{keyword}{const} std::runtime\_error \&error )}
\DoxyCodeLine{68       \{}
\DoxyCodeLine{69         cout << \textcolor{stringliteral}{" \(\backslash\)033[1;31;48m  * FAILED THROUGH EXCEPTION BEING RAISED \(\backslash\)033[0m\(\backslash\)n"};}
\DoxyCodeLine{70         \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{71       \}}
\DoxyCodeLine{72     \}}
\DoxyCodeLine{73     \textcolor{keywordflow}{catch} ( \textcolor{keyword}{const} ExceptionBifurcation \&bifn )}
\DoxyCodeLine{74     \{}
\DoxyCodeLine{75       cout << \textcolor{stringliteral}{" Bifurcation detected near x = "} << x[ 0 ]}
\DoxyCodeLine{76            << \textcolor{stringliteral}{" p = "} << residual.p << \textcolor{stringliteral}{"\(\backslash\)n\(\backslash\)n"};}
\DoxyCodeLine{77     \}}
\DoxyCodeLine{78     \textcolor{keywordflow}{if} ( abs( pow( x[ 0 ], 2 )}
\DoxyCodeLine{79               + pow( residual.p, 2 ) -\/ 1.0 ) > tol )}
\DoxyCodeLine{80     \{}
\DoxyCodeLine{81       failed = \textcolor{keyword}{true};}
\DoxyCodeLine{82       cout << \textcolor{stringliteral}{" Error = "} << pow( x[ 0 ], 2 )}
\DoxyCodeLine{83            + pow( residual.p, 2 ) -\/ 1.0 << \textcolor{stringliteral}{"\(\backslash\)n"};}
\DoxyCodeLine{84     \}}
\DoxyCodeLine{85   \}}
\DoxyCodeLine{86 }
\DoxyCodeLine{87   \textcolor{keywordflow}{if} ( failed )}
\DoxyCodeLine{88   \{}
\DoxyCodeLine{89     cout << \textcolor{stringliteral}{"\(\backslash\)033[1;31;48m  * FAILED \(\backslash\)033[0m\(\backslash\)n"};}
\DoxyCodeLine{90     \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{91   \}}
\DoxyCodeLine{92   \textcolor{keywordflow}{else}}
\DoxyCodeLine{93   \{}
\DoxyCodeLine{94     cout << \textcolor{stringliteral}{"\(\backslash\)033[1;32;48m  * PASSED \(\backslash\)033[0m\(\backslash\)n"};}
\DoxyCodeLine{95     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{96   \}}
\DoxyCodeLine{97 \}}

\end{DoxyCode}


References Cpp\+Noddy\+::\+Newton$<$ \+\_\+\+Type $>$\+::arclength\+\_\+solve(), Cpp\+Noddy\+::\+Example\+::failed, Cpp\+Noddy\+::\+Arc\+Length\+\_\+base$<$ \+\_\+\+Type $>$\+::init\+\_\+arc(), and Cpp\+Noddy\+::\+Newton$<$ \+\_\+\+Type $>$\+::set\+\_\+monitor\+\_\+det().

