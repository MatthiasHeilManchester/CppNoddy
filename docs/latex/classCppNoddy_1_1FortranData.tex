\doxysubsection{Cpp\+Noddy\+::Fortran\+Data Class Reference}
\label{classCppNoddy_1_1FortranData}\index{CppNoddy::FortranData@{CppNoddy::FortranData}}


A little (legacy) utility class for passing \doxyref{Cpp\+Noddy}{p.}{namespaceCppNoddy} containers to Fortran library routines.  




{\ttfamily \#include $<$Fortran\+Data.\+h$>$}

Inheritance diagram for Cpp\+Noddy\+::Fortran\+Data\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classCppNoddy_1_1FortranData}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ Fortran\+Data} (std\+::size\+\_\+t \textbf{ size})
\begin{DoxyCompactList}\small\item\em Make an empty \doxyref{Fortran\+Data}{p.}{classCppNoddy_1_1FortranData} object that is not constructed from a \doxyref{Cpp\+Noddy}{p.}{namespaceCppNoddy} container. \end{DoxyCompactList}\item 
\textbf{ Fortran\+Data} (\textbf{ Dense\+Matrix}$<$ double $>$ \&matrix, bool transpose=true, int padding=0)
\begin{DoxyCompactList}\small\item\em Make a \doxyref{Fortran\+Data}{p.}{classCppNoddy_1_1FortranData} object from a double dense matrix (with potential) for padding the data to avoid cache contention. \end{DoxyCompactList}\item 
\textbf{ Fortran\+Data} (\textbf{ Dense\+Matrix}$<$ \textbf{ D\+\_\+complex} $>$ \&matrix, bool transpose=true, int padding=0)
\begin{DoxyCompactList}\small\item\em Make a \doxyref{Fortran\+Data}{p.}{classCppNoddy_1_1FortranData} object from a complex dense matrix (with potential) for padding the data to avoid cache contention. \end{DoxyCompactList}\item 
\textbf{ Fortran\+Data} (\textbf{ Banded\+Matrix}$<$ double $>$ \&matrix, bool transpose=true)
\item 
\textbf{ Fortran\+Data} (\textbf{ Banded\+Matrix}$<$ \textbf{ D\+\_\+complex} $>$ \&matrix, bool transpose=true)
\item 
\textbf{ Fortran\+Data} (\textbf{ Dense\+Vector}$<$ \textbf{ D\+\_\+complex} $>$ \&vector)
\item 
\textbf{ $\sim$\+Fortran\+Data} ()
\item 
double $\ast$ \textbf{ base} ()
\begin{DoxyCompactList}\small\item\em Get the pointer to the first element. \end{DoxyCompactList}\item 
double \& \textbf{ operator[$\,$]} (const std\+::size\+\_\+t \&i)
\begin{DoxyCompactList}\small\item\em Get the reference to the first element. \end{DoxyCompactList}\item 
std\+::size\+\_\+t \textbf{ size} () const
\begin{DoxyCompactList}\small\item\em Find the number of stored elements. \end{DoxyCompactList}\item 
\textbf{ Dense\+Matrix}$<$ double $>$ \textbf{ to\+\_\+dense\+\_\+matrix} (std\+::size\+\_\+t rows, std\+::size\+\_\+t cols)
\begin{DoxyCompactList}\small\item\em Convert the data to a double dense format. \end{DoxyCompactList}\item 
void \textbf{ dump} ()
\begin{DoxyCompactList}\small\item\em Dump the data to standard out. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsubsection{Detailed Description}
A little (legacy) utility class for passing \doxyref{Cpp\+Noddy}{p.}{namespaceCppNoddy} containers to Fortran library routines. 

Definition at line 13 of file Fortran\+Data.\+h.



\doxysubsubsection{Constructor \& Destructor Documentation}
\mbox{\label{classCppNoddy_1_1FortranData_a0b5a81cc8a08de88f0ed5792ed03e2c0}} 
\index{CppNoddy::FortranData@{CppNoddy::FortranData}!FortranData@{FortranData}}
\index{FortranData@{FortranData}!CppNoddy::FortranData@{CppNoddy::FortranData}}
\doxyparagraph{FortranData()\hspace{0.1cm}{\footnotesize\ttfamily [1/6]}}
{\footnotesize\ttfamily Cpp\+Noddy\+::\+Fortran\+Data\+::\+Fortran\+Data (\begin{DoxyParamCaption}\item[{std\+::size\+\_\+t}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Make an empty \doxyref{Fortran\+Data}{p.}{classCppNoddy_1_1FortranData} object that is not constructed from a \doxyref{Cpp\+Noddy}{p.}{namespaceCppNoddy} container. 



Definition at line 19 of file Fortran\+Data.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{19                                          \{}
\DoxyCodeLine{20       p\_DATA = \textcolor{keyword}{new} DenseVector<double>(size, 0.0);}
\DoxyCodeLine{21     \}}

\end{DoxyCode}


References size().

\mbox{\label{classCppNoddy_1_1FortranData_a7fedfd13a922efa72f9b57fc8ffdfa5d}} 
\index{CppNoddy::FortranData@{CppNoddy::FortranData}!FortranData@{FortranData}}
\index{FortranData@{FortranData}!CppNoddy::FortranData@{CppNoddy::FortranData}}
\doxyparagraph{FortranData()\hspace{0.1cm}{\footnotesize\ttfamily [2/6]}}
{\footnotesize\ttfamily Cpp\+Noddy\+::\+Fortran\+Data\+::\+Fortran\+Data (\begin{DoxyParamCaption}\item[{\textbf{ Dense\+Matrix}$<$ double $>$ \&}]{matrix,  }\item[{bool}]{transpose = {\ttfamily true},  }\item[{int}]{padding = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Make a \doxyref{Fortran\+Data}{p.}{classCppNoddy_1_1FortranData} object from a double dense matrix (with potential) for padding the data to avoid cache contention. 

The transpose flag defaults to true in order to return data in column-\/major format. 
\begin{DoxyParams}{Parameters}
{\em matrix} & A double dense matrix to convert to Lapack/\+Fortran format \\
\hline
{\em transpose} & Transpose the matrix to be in column major format \\
\hline
{\em padding} & The number of additional elements to pad the matrix \\
\hline
\end{DoxyParams}


Definition at line 29 of file Fortran\+Data.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{29                                                                                      \{}
\DoxyCodeLine{30       p\_DATA = \textcolor{keyword}{new} DenseVector<double>;}
\DoxyCodeLine{31       \textcolor{keywordflow}{if}(transpose) \{}
\DoxyCodeLine{32         matrix.transpose();}
\DoxyCodeLine{33       \}}
\DoxyCodeLine{34       matrix.matrix\_to\_vector(*p\_DATA, padding);}
\DoxyCodeLine{35     \}}

\end{DoxyCode}


References Cpp\+Noddy\+::\+Dense\+Matrix$<$ \+\_\+\+Type $>$\+::matrix\+\_\+to\+\_\+vector(), and Cpp\+Noddy\+::\+Dense\+Matrix$<$ \+\_\+\+Type $>$\+::transpose().

\mbox{\label{classCppNoddy_1_1FortranData_a2ffb2af56d923e6ac23e514a5d38e967}} 
\index{CppNoddy::FortranData@{CppNoddy::FortranData}!FortranData@{FortranData}}
\index{FortranData@{FortranData}!CppNoddy::FortranData@{CppNoddy::FortranData}}
\doxyparagraph{FortranData()\hspace{0.1cm}{\footnotesize\ttfamily [3/6]}}
{\footnotesize\ttfamily Cpp\+Noddy\+::\+Fortran\+Data\+::\+Fortran\+Data (\begin{DoxyParamCaption}\item[{\textbf{ Dense\+Matrix}$<$ \textbf{ D\+\_\+complex} $>$ \&}]{matrix,  }\item[{bool}]{transpose = {\ttfamily true},  }\item[{int}]{padding = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Make a \doxyref{Fortran\+Data}{p.}{classCppNoddy_1_1FortranData} object from a complex dense matrix (with potential) for padding the data to avoid cache contention. 

The transpose flag defaults to true in order to return data in column-\/major format. 
\begin{DoxyParams}{Parameters}
{\em matrix} & A complex dense matrix to convert to Lapack/\+Fortran format \\
\hline
{\em transpose} & Transpose the matrix to be in column major format \\
\hline
{\em padding} & The number of additional elements to pad the matrix \\
\hline
\end{DoxyParams}


Definition at line 43 of file Fortran\+Data.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{43                                                                                         \{}
\DoxyCodeLine{44       p\_DATA = \textcolor{keyword}{new} DenseVector<double>;}
\DoxyCodeLine{45       \textcolor{keywordflow}{if}(transpose) \{}
\DoxyCodeLine{46         matrix.transpose();}
\DoxyCodeLine{47       \}}
\DoxyCodeLine{48       matrix.matrix\_to\_vector(*p\_DATA, padding);}
\DoxyCodeLine{49     \}}

\end{DoxyCode}


References Cpp\+Noddy\+::\+Dense\+Matrix$<$ \+\_\+\+Type $>$\+::matrix\+\_\+to\+\_\+vector(), and Cpp\+Noddy\+::\+Dense\+Matrix$<$ \+\_\+\+Type $>$\+::transpose().

\mbox{\label{classCppNoddy_1_1FortranData_ad7ed056626dffbef847910823b4ba327}} 
\index{CppNoddy::FortranData@{CppNoddy::FortranData}!FortranData@{FortranData}}
\index{FortranData@{FortranData}!CppNoddy::FortranData@{CppNoddy::FortranData}}
\doxyparagraph{FortranData()\hspace{0.1cm}{\footnotesize\ttfamily [4/6]}}
{\footnotesize\ttfamily Cpp\+Noddy\+::\+Fortran\+Data\+::\+Fortran\+Data (\begin{DoxyParamCaption}\item[{\textbf{ Banded\+Matrix}$<$ double $>$ \&}]{matrix,  }\item[{bool}]{transpose = {\ttfamily true} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 51 of file Fortran\+Data.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{51                                                                      \{}
\DoxyCodeLine{52       std::string problem;}
\DoxyCodeLine{53       problem = \textcolor{stringliteral}{"The default storage format for a banded matrix is now\(\backslash\)n"};}
\DoxyCodeLine{54       problem += \textcolor{stringliteral}{"a contiguous column-\/major vector. You should not need to \(\backslash\)n"};}
\DoxyCodeLine{55       problem += \textcolor{stringliteral}{"the FortranData method anymore.\(\backslash\)n"};}
\DoxyCodeLine{56       \textcolor{keywordflow}{throw} ExceptionRuntime(problem);}
\DoxyCodeLine{57     \}}

\end{DoxyCode}
\mbox{\label{classCppNoddy_1_1FortranData_a2f51bc2d2364a10a8fb62b1293af2e05}} 
\index{CppNoddy::FortranData@{CppNoddy::FortranData}!FortranData@{FortranData}}
\index{FortranData@{FortranData}!CppNoddy::FortranData@{CppNoddy::FortranData}}
\doxyparagraph{FortranData()\hspace{0.1cm}{\footnotesize\ttfamily [5/6]}}
{\footnotesize\ttfamily Cpp\+Noddy\+::\+Fortran\+Data\+::\+Fortran\+Data (\begin{DoxyParamCaption}\item[{\textbf{ Banded\+Matrix}$<$ \textbf{ D\+\_\+complex} $>$ \&}]{matrix,  }\item[{bool}]{transpose = {\ttfamily true} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 59 of file Fortran\+Data.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{59                                                                         \{}
\DoxyCodeLine{60       std::string problem;}
\DoxyCodeLine{61       problem = \textcolor{stringliteral}{"The default storage format for a banded matrix is now\(\backslash\)n"};}
\DoxyCodeLine{62       problem += \textcolor{stringliteral}{"a contiguous column-\/major vector. You should not need to \(\backslash\)n"};}
\DoxyCodeLine{63       problem += \textcolor{stringliteral}{"the FortranData method anymore.\(\backslash\)n"};}
\DoxyCodeLine{64       \textcolor{keywordflow}{throw} ExceptionRuntime(problem);}
\DoxyCodeLine{65     \}}

\end{DoxyCode}
\mbox{\label{classCppNoddy_1_1FortranData_a24d7c27467b66d7dba7a3a21539f3334}} 
\index{CppNoddy::FortranData@{CppNoddy::FortranData}!FortranData@{FortranData}}
\index{FortranData@{FortranData}!CppNoddy::FortranData@{CppNoddy::FortranData}}
\doxyparagraph{FortranData()\hspace{0.1cm}{\footnotesize\ttfamily [6/6]}}
{\footnotesize\ttfamily Cpp\+Noddy\+::\+Fortran\+Data\+::\+Fortran\+Data (\begin{DoxyParamCaption}\item[{\textbf{ Dense\+Vector}$<$ \textbf{ D\+\_\+complex} $>$ \&}]{vector }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 67 of file Fortran\+Data.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{67                                                 \{}
\DoxyCodeLine{68       std::string problem;}
\DoxyCodeLine{69       problem = \textcolor{stringliteral}{"This method is not required. Just use the base address of \(\backslash\)n"};}
\DoxyCodeLine{70       problem += \textcolor{stringliteral}{"the first element and treat it as a vector of doubles.\(\backslash\)n"};}
\DoxyCodeLine{71       \textcolor{keywordflow}{throw} ExceptionRuntime(problem);}
\DoxyCodeLine{72     \}}

\end{DoxyCode}
\mbox{\label{classCppNoddy_1_1FortranData_a73f4d5544b215a5b1d864da4410b42ea}} 
\index{CppNoddy::FortranData@{CppNoddy::FortranData}!````~FortranData@{$\sim$FortranData}}
\index{````~FortranData@{$\sim$FortranData}!CppNoddy::FortranData@{CppNoddy::FortranData}}
\doxyparagraph{$\sim$FortranData()}
{\footnotesize\ttfamily Cpp\+Noddy\+::\+Fortran\+Data\+::$\sim$\+Fortran\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 74 of file Fortran\+Data.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{74                    \{}
\DoxyCodeLine{75       \textcolor{keyword}{delete} p\_DATA;}
\DoxyCodeLine{76     \}}

\end{DoxyCode}


\doxysubsubsection{Member Function Documentation}
\mbox{\label{classCppNoddy_1_1FortranData_a17770970ac1f0cd173224424eb4f6cf9}} 
\index{CppNoddy::FortranData@{CppNoddy::FortranData}!base@{base}}
\index{base@{base}!CppNoddy::FortranData@{CppNoddy::FortranData}}
\doxyparagraph{base()}
{\footnotesize\ttfamily double$\ast$ Cpp\+Noddy\+::\+Fortran\+Data\+::base (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Get the pointer to the first element. 

\begin{DoxyReturn}{Returns}
The pointer to the base address. 
\end{DoxyReturn}


Definition at line 80 of file Fortran\+Data.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{80                    \{}
\DoxyCodeLine{81       \textcolor{keywordflow}{return} \& (p\_DATA -\/> operator[](0));}
\DoxyCodeLine{82     \}}

\end{DoxyCode}


References operator[$\,$]().



Referenced by Cpp\+Noddy\+::\+Utility\+::multiply().

\mbox{\label{classCppNoddy_1_1FortranData_aafd80dd586b81bcc6abb1ed6f92e0a97}} 
\index{CppNoddy::FortranData@{CppNoddy::FortranData}!dump@{dump}}
\index{dump@{dump}!CppNoddy::FortranData@{CppNoddy::FortranData}}
\doxyparagraph{dump()}
{\footnotesize\ttfamily void Cpp\+Noddy\+::\+Fortran\+Data\+::dump (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Dump the data to standard out. 



Definition at line 106 of file Fortran\+Data.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{106                 \{}
\DoxyCodeLine{107       p\_DATA -\/> dump();}
\DoxyCodeLine{108     \}}

\end{DoxyCode}
\mbox{\label{classCppNoddy_1_1FortranData_afd401749b86bab1f83e440a56c62280c}} 
\index{CppNoddy::FortranData@{CppNoddy::FortranData}!operator[]@{operator[]}}
\index{operator[]@{operator[]}!CppNoddy::FortranData@{CppNoddy::FortranData}}
\doxyparagraph{operator[]()}
{\footnotesize\ttfamily double\& Cpp\+Noddy\+::\+Fortran\+Data\+::operator[$\,$] (\begin{DoxyParamCaption}\item[{const std\+::size\+\_\+t \&}]{i }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Get the reference to the first element. 

\begin{DoxyReturn}{Returns}
The the i-\/th element in the vector 
\end{DoxyReturn}


Definition at line 86 of file Fortran\+Data.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{86                                            \{}
\DoxyCodeLine{87       \textcolor{keywordflow}{return} p\_DATA -\/> operator[](i);}
\DoxyCodeLine{88     \}}

\end{DoxyCode}


Referenced by base().

\mbox{\label{classCppNoddy_1_1FortranData_a5cf49fccc97c63601d1bd1661660cd84}} 
\index{CppNoddy::FortranData@{CppNoddy::FortranData}!size@{size}}
\index{size@{size}!CppNoddy::FortranData@{CppNoddy::FortranData}}
\doxyparagraph{size()}
{\footnotesize\ttfamily std\+::size\+\_\+t Cpp\+Noddy\+::\+Fortran\+Data\+::size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Find the number of stored elements. 

\begin{DoxyReturn}{Returns}
The number of elements. 
\end{DoxyReturn}


Definition at line 92 of file Fortran\+Data.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{92                            \{}
\DoxyCodeLine{93       \textcolor{keywordflow}{return} p\_DATA -\/> size();}
\DoxyCodeLine{94     \}}

\end{DoxyCode}


Referenced by Fortran\+Data().

\mbox{\label{classCppNoddy_1_1FortranData_ae4f5fccc76f9ae2bdefce392cd3c021e}} 
\index{CppNoddy::FortranData@{CppNoddy::FortranData}!to\_dense\_matrix@{to\_dense\_matrix}}
\index{to\_dense\_matrix@{to\_dense\_matrix}!CppNoddy::FortranData@{CppNoddy::FortranData}}
\doxyparagraph{to\_dense\_matrix()}
{\footnotesize\ttfamily \textbf{ Dense\+Matrix}$<$double$>$ Cpp\+Noddy\+::\+Fortran\+Data\+::to\+\_\+dense\+\_\+matrix (\begin{DoxyParamCaption}\item[{std\+::size\+\_\+t}]{rows,  }\item[{std\+::size\+\_\+t}]{cols }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Convert the data to a double dense format. 


\begin{DoxyParams}{Parameters}
{\em rows} & The number of required rows \\
\hline
{\em cols} & The number of required columns \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The \doxyref{Dense\+Matrix$<$double$>$}{p.}{classCppNoddy_1_1DenseMatrix} of the data 
\end{DoxyReturn}


Definition at line 100 of file Fortran\+Data.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{100                                                                         \{}
\DoxyCodeLine{101       DenseMatrix<double> matrix(rows, cols, \&(p\_DATA-\/>operator[](0)));}
\DoxyCodeLine{102       \textcolor{keywordflow}{return} matrix;}
\DoxyCodeLine{103     \}}

\end{DoxyCode}


Referenced by Cpp\+Noddy\+::\+Utility\+::multiply().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/\textbf{ Fortran\+Data.\+h}\end{DoxyCompactItemize}
