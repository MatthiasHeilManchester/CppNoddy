\doxysubsection{Tests/\+H\+Y\+P\+\_\+1\+D/\+H\+Y\+P\+Sods\+Shocktube.cpp File Reference}
\label{HYPSodsShocktube_8cpp}\index{Tests/HYP\_1D/HYPSodsShocktube.cpp@{Tests/HYP\_1D/HYPSodsShocktube.cpp}}
{\ttfamily \#include $<$One\+D\+\_\+\+H\+Y\+P\+\_\+bundle.\+h$>$}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \textbf{ Cpp\+Noddy\+::\+Example\+::\+Euler\+\_\+1d}
\begin{DoxyCompactList}\small\item\em Define the system. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \textbf{ Cpp\+Noddy}
\begin{DoxyCompactList}\small\item\em A collection of OO numerical routines aimed at simple (typical) applied problems in continuum mechanics. \end{DoxyCompactList}\item 
 \textbf{ Cpp\+Noddy\+::\+Example}
\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \{ \textbf{ rho}, 
\textbf{ m}, 
\textbf{ E}
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
double \textbf{ Cpp\+Noddy\+::\+Example\+::gamma} (1.\+4)
\begin{DoxyCompactList}\small\item\em Adiabatic index -- ratio of specific heats. \end{DoxyCompactList}\item 
void \textbf{ Cpp\+Noddy\+::\+Example\+::\+Q\+\_\+init} (const double \&x, \textbf{ Dense\+Vector}$<$ double $>$ \&q)
\begin{DoxyCompactList}\small\item\em Set the initial state of the system. \end{DoxyCompactList}\item 
int \textbf{ main} ()
\end{DoxyCompactItemize}


\doxysubsubsection{Detailed Description}
Solving the 1D Euler problem for gas dynamics \[ \rho_t + \left ( m \right )_x = 0 \] \[ m_t + \left ( \rho u^2 + p \right )_x = 0 \] \[ E_t + \left ( u ( E + p ) \right )_x = 0 \] where \[ u = m / \rho \] \[ p = ( \gamma - 1 ) ( E - \frac12 \rho u^2 ) \] and $ \gamma = 1.4 $. The initial conditions correspond to Sod\textquotesingle{}s problem \[ (\rho, m, E ) = ( 1, 0, 2.5 ) \] for $ x < \frac12 $ \[ (\rho, m, E ) = ( 0.125, 0, 0.25 ) \] for $ x > \frac12 $. 

\doxysubsubsection{Enumeration Type Documentation}
\mbox{\label{HYPSodsShocktube_8cpp_adb49720dc49f7d4e4cf9adbf2948e409}} 
\doxyparagraph{anonymous enum}
{\footnotesize\ttfamily anonymous enum}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{rho@{rho}!HYPSodsShocktube.cpp@{HYPSodsShocktube.cpp}}\index{HYPSodsShocktube.cpp@{HYPSodsShocktube.cpp}!rho@{rho}}}\mbox{\label{HYPSodsShocktube_8cpp_adb49720dc49f7d4e4cf9adbf2948e409aa714b1d1f527388389cbff9365821f2a}} 
rho&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{m@{m}!HYPSodsShocktube.cpp@{HYPSodsShocktube.cpp}}\index{HYPSodsShocktube.cpp@{HYPSodsShocktube.cpp}!m@{m}}}\mbox{\label{HYPSodsShocktube_8cpp_adb49720dc49f7d4e4cf9adbf2948e409aca3cf2ca9e0e7f4e96f2bbc362b9353a}} 
m&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{E@{E}!HYPSodsShocktube.cpp@{HYPSodsShocktube.cpp}}\index{HYPSodsShocktube.cpp@{HYPSodsShocktube.cpp}!E@{E}}}\mbox{\label{HYPSodsShocktube_8cpp_adb49720dc49f7d4e4cf9adbf2948e409ab199e021998d49b1f09338d8b9b18ecb}} 
E&\\
\hline

\end{DoxyEnumFields}


Definition at line 18 of file H\+Y\+P\+Sods\+Shocktube.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{18 \{ rho, m, E \};}

\end{DoxyCode}


\doxysubsubsection{Function Documentation}
\mbox{\label{HYPSodsShocktube_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}} 
\index{HYPSodsShocktube.cpp@{HYPSodsShocktube.cpp}!main@{main}}
\index{main@{main}!HYPSodsShocktube.cpp@{HYPSodsShocktube.cpp}}
\doxyparagraph{main()}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 83 of file H\+Y\+P\+Sods\+Shocktube.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{84 \{}
\DoxyCodeLine{85   cout << \textcolor{stringliteral}{"\(\backslash\)n"};}
\DoxyCodeLine{86   cout << \textcolor{stringliteral}{"=== Hyperbolic: 1D Euler gasdynamics shocktube  =====\(\backslash\)n"};}
\DoxyCodeLine{87   cout << \textcolor{stringliteral}{"\(\backslash\)n"};}
\DoxyCodeLine{88 }
\DoxyCodeLine{89   \textcolor{comment}{// define the domain/mesh}}
\DoxyCodeLine{90   \textcolor{keyword}{const} \textcolor{keywordtype}{double} left =  0.0;}
\DoxyCodeLine{91   \textcolor{keyword}{const} \textcolor{keywordtype}{double} right = 1.0;}
\DoxyCodeLine{92   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} N = 400;}
\DoxyCodeLine{93   DenseVector<double> faces\_x = Utility::uniform\_node\_vector( left, right, N );}
\DoxyCodeLine{94 }
\DoxyCodeLine{95   \textcolor{keywordtype}{double} t = 0.0;}
\DoxyCodeLine{96 }
\DoxyCodeLine{97   Example::Euler\_1d conservative\_problem;}
\DoxyCodeLine{98   OneD\_TVDLF\_Mesh Euler\_mesh( faces\_x, \&conservative\_problem, Example::Q\_init );}
\DoxyCodeLine{99   Euler\_mesh.set\_limiter( 0 );}
\DoxyCodeLine{100 }
\DoxyCodeLine{101   \textcolor{keywordtype}{double} I1 = Euler\_mesh.integrate()[0];}
\DoxyCodeLine{102   \textcolor{keywordtype}{int} loop\_counter( 0 );}
\DoxyCodeLine{103   \textcolor{keywordtype}{int} file\_counter( 0 );}
\DoxyCodeLine{104 }
\DoxyCodeLine{105   std::string dirname(\textcolor{stringliteral}{"./DATA"});}
\DoxyCodeLine{106   mkdir( dirname.c\_str(), S\_IRWXU );}
\DoxyCodeLine{107   std::string filename\_stub;}
\DoxyCodeLine{108   filename\_stub = \textcolor{stringliteral}{"./DATA/HYP\_shocktube\_sod"};}
\DoxyCodeLine{109   TrackerFile my\_file( 10 );}
\DoxyCodeLine{110   OneD\_Node\_Mesh<double> soln = Euler\_mesh.get\_soln();}
\DoxyCodeLine{111   my\_file.push\_ptr( \&soln, \textcolor{stringliteral}{"mesh"} );}
\DoxyCodeLine{112 }
\DoxyCodeLine{113   \textcolor{keywordflow}{do}}
\DoxyCodeLine{114   \{}
\DoxyCodeLine{115     \textcolor{keywordflow}{if} ( loop\_counter \% 10 == 0 )}
\DoxyCodeLine{116     \{}
\DoxyCodeLine{117       my\_file.set\_filename( filename\_stub + Utility::stringify( file\_counter ) + \textcolor{stringliteral}{".dat"} );}
\DoxyCodeLine{118       soln = Euler\_mesh.get\_soln( );}
\DoxyCodeLine{119       my\_file.update();}
\DoxyCodeLine{120       file\_counter += 1;}
\DoxyCodeLine{121     \}}
\DoxyCodeLine{122     t += Euler\_mesh.update( 0.499 );}
\DoxyCodeLine{123     ++loop\_counter;}
\DoxyCodeLine{124   \}}
\DoxyCodeLine{125   \textcolor{keywordflow}{while} ( ( t < 0.2 ) \&\& ( loop\_counter < 1000 ) );}
\DoxyCodeLine{126 }
\DoxyCodeLine{127   \textcolor{keywordtype}{double} I2 = Euler\_mesh.integrate()[0];}
\DoxyCodeLine{128   \textcolor{comment}{// These are clawpack results (to 4dp) with N=400 and minmod for the}}
\DoxyCodeLine{129   \textcolor{comment}{// density of the two density steps ...}}
\DoxyCodeLine{130   soln = Euler\_mesh.get\_soln( );}
\DoxyCodeLine{131   \textcolor{keywordtype}{double} E1 = std::abs( soln.get\_interpolated\_vars( 0.575 )[0] -\/ 0.4264 );}
\DoxyCodeLine{132   \textcolor{keywordtype}{double} E2 = std::abs( soln.get\_interpolated\_vars( 0.75 )[0] -\/ 0.2656 );}
\DoxyCodeLine{133   \textcolor{comment}{// check against the clawpack data, and that the mass is conserved.}}
\DoxyCodeLine{134   \textcolor{keywordflow}{if} ( ( E1 > 1.e-\/3 ) || ( E2 > 1.e-\/3 ) || ( std::abs( I1 -\/ I2 ) > 1.e-\/8 ) || ( loop\_counter >= 1000 ) )}
\DoxyCodeLine{135   \{}
\DoxyCodeLine{136     cout << \textcolor{stringliteral}{"\(\backslash\)033[1;31;48m  * FAILED \(\backslash\)033[0m\(\backslash\)n"};}
\DoxyCodeLine{137     cout << E1 << \textcolor{stringliteral}{" "} << E2 << \textcolor{stringliteral}{" "} << std::abs( I1 -\/ I2 ) << \textcolor{stringliteral}{" "} << loop\_counter << \textcolor{stringliteral}{"\(\backslash\)n"};}
\DoxyCodeLine{138     \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{139   \}}
\DoxyCodeLine{140   \textcolor{keywordflow}{else}}
\DoxyCodeLine{141   \{}
\DoxyCodeLine{142     cout << \textcolor{stringliteral}{"\(\backslash\)033[1;32;48m  * PASSED \(\backslash\)033[0m\(\backslash\)n"};}
\DoxyCodeLine{143     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{144   \}}
\DoxyCodeLine{145 }
\DoxyCodeLine{146 \} \textcolor{comment}{// end of main()}}

\end{DoxyCode}


References Cpp\+Noddy\+::\+One\+D\+\_\+\+Node\+\_\+\+Mesh$<$ \+\_\+\+Type, \+\_\+\+Xtype $>$\+::get\+\_\+interpolated\+\_\+vars(), Cpp\+Noddy\+::\+One\+D\+\_\+\+T\+V\+D\+L\+F\+\_\+\+Mesh\+::get\+\_\+soln(), Cpp\+Noddy\+::\+One\+D\+\_\+\+T\+V\+D\+L\+F\+\_\+\+Mesh\+::integrate(), Cpp\+Noddy\+::\+Tracker\+File\+::push\+\_\+ptr(), Cpp\+Noddy\+::\+Example\+::\+Q\+\_\+init(), Cpp\+Noddy\+::\+Tracker\+File\+::set\+\_\+filename(), Cpp\+Noddy\+::\+One\+D\+\_\+\+T\+V\+D\+L\+F\+\_\+\+Mesh\+::set\+\_\+limiter(), Cpp\+Noddy\+::\+Utility\+::stringify(), Cpp\+Noddy\+::\+Utility\+::uniform\+\_\+node\+\_\+vector(), Cpp\+Noddy\+::\+Tracker\+File\+::update(), and Cpp\+Noddy\+::\+One\+D\+\_\+\+T\+V\+D\+L\+F\+\_\+\+Mesh\+::update().

