\doxysubsection{Tests/\+I\+B\+V\+P/\+I\+B\+V\+P\+Karman.cpp File Reference}
\label{IBVPKarman_8cpp}\index{Tests/IBVP/IBVPKarman.cpp@{Tests/IBVP/IBVPKarman.cpp}}
{\ttfamily \#include $<$I\+B\+V\+P\+\_\+bundle.\+h$>$}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \textbf{ Cpp\+Noddy\+::\+Example\+::\+Karman\+\_\+equations}
\begin{DoxyCompactList}\small\item\em Define the Karman equations. \end{DoxyCompactList}\item 
class \textbf{ Cpp\+Noddy\+::\+Example\+::\+Karman\+\_\+left\+\_\+\+BC}
\begin{DoxyCompactList}\small\item\em Define the boundary conditions. \end{DoxyCompactList}\item 
class \textbf{ Cpp\+Noddy\+::\+Example\+::\+Karman\+\_\+right\+\_\+\+BC}
\end{DoxyCompactItemize}
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \textbf{ Cpp\+Noddy}
\begin{DoxyCompactList}\small\item\em A collection of OO numerical routines aimed at simple (typical) applied problems in continuum mechanics. \end{DoxyCompactList}\item 
 \textbf{ Cpp\+Noddy\+::\+Example}
\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \{ \newline
\textbf{ U}, 
\textbf{ Ud}, 
\textbf{ V}, 
\textbf{ W}, 
\newline
\textbf{ Wd}
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
double \textbf{ Cpp\+Noddy\+::\+Example\+::\+W\+\_\+inf} (0.\+0)
\item 
double \textbf{ Cpp\+Noddy\+::\+Example\+::\+W\+\_\+disk} (1.\+0)
\item 
int \textbf{ main} ()
\end{DoxyCompactItemize}


\doxysubsubsection{Detailed Description}
Solving the unsteady Karman rotating-\/disk equations for the flow above an infinite rotating disk in a rotating fluid\+: \[ -U_t + U_{yy} = U^2 + VU_y - W^2 - W_\infty^2 \] \[ -W_t + W_{yy} = 2U W + V W_y \] \[ 2U + V_y = 0 \] with boundary conditions $ U(y=0)=V(y=0)=0 $, $ W(y=0)=\Omega(t) $ and $ U(y \to \infty ) \to 0 $, $ W(y \to \infty ) \to 0 $. The initial condition corresponds to rigid rotation of the fluid and boundary at the frequency $ W_{\infty} $ The class constructs and solves the I\+B\+VP using 2nd order finite-\/differencing in both space and time over a non-\/uniform spatial mesh. The example shows the case $ W_\infty = 0 $ and \[ \Omega(t) = 1 - (1 - W_\infty) \exp( -10t )\] and simply checks for convergence to the correct steady state solution. 

\doxysubsubsection{Enumeration Type Documentation}
\mbox{\label{IBVPKarman_8cpp_ae4d5251432e1a9e6803c0240cc492e18}} 
\doxyparagraph{anonymous enum}
{\footnotesize\ttfamily anonymous enum}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{U@{U}!IBVPKarman.cpp@{IBVPKarman.cpp}}\index{IBVPKarman.cpp@{IBVPKarman.cpp}!U@{U}}}\mbox{\label{IBVPKarman_8cpp_ae4d5251432e1a9e6803c0240cc492e18ac461e84f27bbb236874e1011cd66031f}} 
U&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Ud@{Ud}!IBVPKarman.cpp@{IBVPKarman.cpp}}\index{IBVPKarman.cpp@{IBVPKarman.cpp}!Ud@{Ud}}}\mbox{\label{IBVPKarman_8cpp_ae4d5251432e1a9e6803c0240cc492e18ae3fe7b6f745ea6be7e92f8c854abfb4f}} 
Ud&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{V@{V}!IBVPKarman.cpp@{IBVPKarman.cpp}}\index{IBVPKarman.cpp@{IBVPKarman.cpp}!V@{V}}}\mbox{\label{IBVPKarman_8cpp_ae4d5251432e1a9e6803c0240cc492e18a28f41f1144eee94834387e9a6a088bc1}} 
V&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W@{W}!IBVPKarman.cpp@{IBVPKarman.cpp}}\index{IBVPKarman.cpp@{IBVPKarman.cpp}!W@{W}}}\mbox{\label{IBVPKarman_8cpp_ae4d5251432e1a9e6803c0240cc492e18ab722ceeb601c72cd78fbd35f3581fdf7}} 
W&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Wd@{Wd}!IBVPKarman.cpp@{IBVPKarman.cpp}}\index{IBVPKarman.cpp@{IBVPKarman.cpp}!Wd@{Wd}}}\mbox{\label{IBVPKarman_8cpp_ae4d5251432e1a9e6803c0240cc492e18a84cc6611511271850b7b4557b8d79c66}} 
Wd&\\
\hline

\end{DoxyEnumFields}


Definition at line 21 of file I\+B\+V\+P\+Karman.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{21 \{ U, Ud, V, W, Wd \};}

\end{DoxyCode}


\doxysubsubsection{Function Documentation}
\mbox{\label{IBVPKarman_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}} 
\index{IBVPKarman.cpp@{IBVPKarman.cpp}!main@{main}}
\index{main@{main}!IBVPKarman.cpp@{IBVPKarman.cpp}}
\doxyparagraph{main()}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 119 of file I\+B\+V\+P\+Karman.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{120 \{}
\DoxyCodeLine{121   cout << \textcolor{stringliteral}{"\(\backslash\)n"};}
\DoxyCodeLine{122   cout << \textcolor{stringliteral}{"=== IBVP: The unsteady Karman equations  ============\(\backslash\)n"};}
\DoxyCodeLine{123   cout << \textcolor{stringliteral}{"\(\backslash\)n"};}
\DoxyCodeLine{124 }
\DoxyCodeLine{125   \textcolor{comment}{// define the system}}
\DoxyCodeLine{126   Example::Karman\_equations problem;}
\DoxyCodeLine{127   \textcolor{comment}{// define the boundary conditions}}
\DoxyCodeLine{128   Example::Karman\_left\_BC BC\_left;}
\DoxyCodeLine{129   Example::Karman\_right\_BC BC\_right;}
\DoxyCodeLine{130 }
\DoxyCodeLine{131   \textcolor{comment}{// domain definition}}
\DoxyCodeLine{132   \textcolor{keywordtype}{double} left = 0.0;}
\DoxyCodeLine{133   \textcolor{keywordtype}{double} right = 40.0;}
\DoxyCodeLine{134   \textcolor{comment}{// number of (spatial) nodal points}}
\DoxyCodeLine{135   \textcolor{keywordtype}{unsigned} ny = 400;}
\DoxyCodeLine{136   \textcolor{comment}{// time step}}
\DoxyCodeLine{137   \textcolor{keywordtype}{double} dt = 0.005;}
\DoxyCodeLine{138   \textcolor{comment}{// number of time steps}}
\DoxyCodeLine{139   \textcolor{keywordtype}{unsigned} max\_steps = ( unsigned ) ( 30.0 / dt );}
\DoxyCodeLine{140 }
\DoxyCodeLine{141   \textcolor{comment}{// construct our IBVP with more nodes near the boundary}}
\DoxyCodeLine{142   PDE\_IBVP<double> karman( \&problem, Utility::power\_node\_vector( left, right, ny, 2.0 ), \&BC\_left, \&BC\_right );}
\DoxyCodeLine{143   \textcolor{comment}{//}}
\DoxyCodeLine{144   \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{unsigned} i = 0; i < ny; ++i )}
\DoxyCodeLine{145   \{}
\DoxyCodeLine{146     karman.solution()( i, U ) = 0.0;}
\DoxyCodeLine{147     karman.solution()( i, Ud ) = 0.0;}
\DoxyCodeLine{148     karman.solution()( i, V ) = 0.0;}
\DoxyCodeLine{149     karman.solution()( i, W ) = Example::W\_inf;}
\DoxyCodeLine{150     karman.solution()( i, Wd ) = 0.0;}
\DoxyCodeLine{151   \}}
\DoxyCodeLine{152 }
\DoxyCodeLine{153   \textcolor{comment}{// set up output details}}
\DoxyCodeLine{154   std::string dirname(\textcolor{stringliteral}{"./DATA"});}
\DoxyCodeLine{155   mkdir( dirname.c\_str(), S\_IRWXU );}
\DoxyCodeLine{156   TrackerFile metric( \textcolor{stringliteral}{"./DATA/IBVP\_Karman\_metric.dat"} );}
\DoxyCodeLine{157   metric.push\_ptr( \&karman.coord(), \textcolor{stringliteral}{"time"} );}
\DoxyCodeLine{158   metric.push\_ptr( \&karman.solution()( ny -\/ 1, V ), \textcolor{stringliteral}{"Ekman suction"} );}
\DoxyCodeLine{159   metric.header();}
\DoxyCodeLine{160   TrackerFile profs( \textcolor{stringliteral}{"./DATA/IBVP\_Karman\_profs.dat"} );}
\DoxyCodeLine{161   profs.push\_ptr( \&karman.coord(), \textcolor{stringliteral}{"time"} );}
\DoxyCodeLine{162   profs.push\_ptr( \&karman.solution(), \textcolor{stringliteral}{"solution"} );}
\DoxyCodeLine{163   profs.header();}
\DoxyCodeLine{164 }
\DoxyCodeLine{165   \textcolor{comment}{// time step}}
\DoxyCodeLine{166   \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{unsigned} i = 1; i < max\_steps; ++i )}
\DoxyCodeLine{167   \{}
\DoxyCodeLine{168     \textcolor{comment}{// take a time step}}
\DoxyCodeLine{169     \textcolor{keywordflow}{try}}
\DoxyCodeLine{170     \{}
\DoxyCodeLine{171       karman.step2( dt );}
\DoxyCodeLine{172     \}}
\DoxyCodeLine{173     \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::runtime\_error \&error )}
\DoxyCodeLine{174     \{}
\DoxyCodeLine{175       cout << \textcolor{stringliteral}{" \(\backslash\)033[1;31;48m  * FAILED THROUGH EXCEPTION BEING RAISED \(\backslash\)033[0m\(\backslash\)n"};}
\DoxyCodeLine{176       \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{177     \}}
\DoxyCodeLine{178     metric.update();}
\DoxyCodeLine{179   \}}
\DoxyCodeLine{180 }
\DoxyCodeLine{181   \textcolor{keyword}{const} \textcolor{keywordtype}{double} tol( 1.e-\/4 );}
\DoxyCodeLine{182   \textcolor{comment}{// check the BL transpiration vs the known solution}}
\DoxyCodeLine{183   \textcolor{keywordflow}{if} ( abs( karman.solution()( ny -\/ 1, V ) + 0.88447 ) > tol )}
\DoxyCodeLine{184   \{}
\DoxyCodeLine{185     cout << \textcolor{stringliteral}{"\(\backslash\)033[1;31;48m  * FAILED \(\backslash\)033[0m\(\backslash\)n"};}
\DoxyCodeLine{186     cout << \textcolor{stringliteral}{" Difference = "} << abs( karman.solution()( ny -\/ 1, V ) + 0.88447 ) << \textcolor{stringliteral}{"\(\backslash\)n"};}
\DoxyCodeLine{187     \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{188   \}}
\DoxyCodeLine{189   \textcolor{keywordflow}{else}}
\DoxyCodeLine{190   \{}
\DoxyCodeLine{191     cout << \textcolor{stringliteral}{"\(\backslash\)033[1;32;48m  * PASSED \(\backslash\)033[0m\(\backslash\)n"};}
\DoxyCodeLine{192     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{193   \}}
\DoxyCodeLine{194 }
\DoxyCodeLine{195 \}}

\end{DoxyCode}


References Cpp\+Noddy\+::\+P\+D\+E\+\_\+\+I\+B\+V\+P$<$ \+\_\+\+Type $>$\+::coord(), Cpp\+Noddy\+::\+Tracker\+File\+::header(), Cpp\+Noddy\+::\+Utility\+::power\+\_\+node\+\_\+vector(), Cpp\+Noddy\+::\+Tracker\+File\+::push\+\_\+ptr(), Cpp\+Noddy\+::\+P\+D\+E\+\_\+\+I\+B\+V\+P$<$ \+\_\+\+Type $>$\+::solution(), Cpp\+Noddy\+::\+P\+D\+E\+\_\+\+I\+B\+V\+P$<$ \+\_\+\+Type $>$\+::step2(), U, Ud, Cpp\+Noddy\+::\+Tracker\+File\+::update(), V, W, Cpp\+Noddy\+::\+Example\+::\+W\+\_\+inf(), and Wd.

